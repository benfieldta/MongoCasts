<head>

</head>

<body>
    <button>Click!</button>
    <script>
        function startGame() {
            let counter = 0;
            document.querySelector('button').addEventListener('click', (e) => {
                ++counter;
            });
            return new Promise((resolve, reject)=>{
                setTimeout(()=>{
                    if(counter > 5){
                        resolve(counter);
                    } else {
                        reject();
                    }
                }, 2000);
            });
            
        }

        startGame()
            .then((c) => alert('You win with: ' + c + " clicks"))
            .catch(() => alert('You lost!'));
    </script>

</body>